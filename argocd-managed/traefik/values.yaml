# https://github.com/traefik/traefik-helm-chart/blob/master/traefik/values.yaml
traefik: # set values for wrapper/umbrella chart
  deployment:
    kind: DaemonSet
    revisionHistoryLimit: "0"

  image:
    tag: v3.0
  experimental:
    v3:
      # -- Enable traefik version 3
      enabled: true
    kubernetesGateway:
      # -- Enable traefik experimental GatewayClass CRD
      enabled: false
      gateway:
        # -- Enable traefik regular kubernetes gateway
        enabled: true

  ports:
    web:
      hostPort: 80
      redirectTo: websecure
    websecure:
      asDefault: true
      hostPort: 443
      http3:
        enabled: true
      middlewares:
        - traefik-hsts@kubernetescrd
    unifi-inform:
      hostPort: 8080
      port: 8080

  service:
    enabled: false

  ingressRoute:
    dashboard:
      enabled: false

  # Workaround to use traefik as DaemonSet instead of Deployment
  updateStrategy:
    rollingUpdate:
      maxUnavailable: 1
      maxSurge: 0

  logs:
    general:
      level: DEBUG
    access:
      enabled: true

  priorityClassName: system-cluster-critical

  tlsOptions:
    default:
      minVersion: VersionTLS13
